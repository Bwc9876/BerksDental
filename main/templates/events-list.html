{% extends 'base.html' %}
{% comment %}
    This file is used to show the events for a month and year in a list
{% endcomment %}
{% block meta %}
    <title>Berks Dental Assistants: Events</title>
    <meta name="description" content="Berks Dental Assistants' Events Page.">
{% endblock %}
{% block links %}
    {% load static %}
    <link href="{% static "/events/shared.css" %}" type="text/css" rel="stylesheet">
    <link href="{% static "/events/list.css" %}" type="text/css" rel="stylesheet">
{% endblock %}
{% block header %}
    <div class="hero is-medium">
        <div class="hero-body">
            <a href="{{ previous_link }}"><i class="is-size-4 icon fas fa-arrow-alt-circle-left"></i></a>
            <div class="center-text">
                <h1 class="title hero-title has-text-centered">{{ month_name }} {{ year }}</h1>
                <a class="is-link subtitle" href="{% url "main:events" %}?view=calendar">View As Calendar</a>
            </div>
            <a href="{{ next_link }}"><i class="is-size-4 icon fas fa-arrow-alt-circle-right"></i></a>
        </div>
    </div>
{% endblock %}
{% block content %}
    {% load eventTags %}
    {% for week in weeks %}
        {% for day in week %}
            {% if day != 0 %}
                {% makeDateObj as date %}
                {% getEventsOnDate as eventsOnThisDate %}
                <div class="list-box p-5">
                    <h2 class="title">{{ day }}</h2>
                    {% if eventsOnThisDate|length != 0 %}
                        <div class="columns">
                        {% for event in eventsOnThisDate %}
                            <div class="column">
                                <div class="card">
                                    <header class="card-header">
                                        <h3 class="card-header-title">{{ event.name }}</h3>
                                    </header>
                                    <div class="card-content">
                                        <div class="content">
                                            {% if event.startDate != event.endDate %}
                                                <p>Start Date & Time: {{ event.startDate }} at {{ event.startTime }}</p>
                                                <p>End Date & Time: {{ event.endDate }} at {{ event.endTime }}</p>
                                            {% else %}
                                                <p>Date & Time: {{ event.startDate }} at {{ event.startTime }}</p>
                                            {% endif %}
                                            {% if event.virtual %}
                                                <p>Link: <a href="{{ event.link }}">{{ event.link }}</a></p>
                                            {% else %}
                                                <p>Location: {{ event.location }}</p>
                                            {% endif %}
                                                <p>Description: {{ event.description }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                        </div>
                    {% else %}
                        <p class="subtitle is-size-6 none-text">None</p>
                    {% endif %}
                </div>
            {% endif %}
        {% endfor %}
    {% endfor %}
    <a class="view-switch-link" href="{% url "main:events" %}?view=calendar">View As Calendar</a>
{% endblock %}