{% extends 'base.html' %}
{% comment %}
    This file is used to show the events for a month and year in a list
{% endcomment %}
{% block meta %}
    <title>Berks Dental Assistants: Events</title>
    <meta name="description" content="Berks Dental Assistants' Events Page.">
{% endblock %}
{% block links %}

    <style>

        div.events {
            margin-left: 10px;
        }

        div.top {
            display: flex;
            padding-bottom: 20px;
        }

        div.eventContainer {
            border: 1px solid black;
            margin-bottom: 10px;
            border-radius: 5px;
            padding: 10px;
            width: 45vw;
            display: flex;
            flex-direction: column;
        }

        div.dateTimeInfo {
            display: flex;
        }

        div.dateTime {
            width: 9vw;
        }

        div.dateTime.start {
            margin-right: 10px;
        }

        p.time {
            border: solid 1px black;
            border-top: none;
            font-size: var(--h6);
            margin: 0;
            text-align: center;
        }

        p.separator {
            margin: 0 10px 0 0;
            align-self: center;
        }

        div.date {
            display: flex;
            flex-direction: column;
            border: solid 1px black;
        }

        p.month {
            color: white;
            background-color: red;
            margin: 0;
            text-align: center;
        }

        p.day {
            padding: 10px;
            margin: 0;
            text-align: center;
        }

        div.name {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-left: 10px;
            border-left: solid 1px black;
        }

        div.details {
            border-top: 1px solid black;
        }

        p.eventName {
            margin: auto;
            display: block;
            text-align: center;
            font-size: var(--h1);
            padding-left: 1vw;
        }

        p.eventLoc, a.eventLoc {
            margin: auto;
        }

        div.eventLocation {
            border-bottom: 1px solid black;
            padding: 1vh 0;
        }

        p.eventDescription {
            word-break: break-word;
        }

    </style>

{% endblock links %}


{% block content %}

    {% load eventTags %}

    <a href="{{ previous_link }}">Previous</a><h1>{{ month_name }} {{ year }}</h1><a href="{{ next_link }}">Next</a>

    {% for week in weeks %}
        {% for day in week %}
            {% if day != 0 %}
                <h1>{{ day }}</h1>
                {% makeDateObj as date %}
                {% getEventsOnDate as eventsOnThisDate %}
                {% for event in eventsOnThisDate %}
                    <p>{{ event }}</p>
                {% endfor %}
            {% endif %}
        {% endfor %}
    {% endfor %}

    <a href="{% url "main:events" %}?view=calendar">View As Calendar</a>


{% endblock content %}