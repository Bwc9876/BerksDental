{% extends 'base.html' %}
{% comment %}
    This file is used to show the events for a month and year in a calendar
{% endcomment %}
{% block meta %}
    <title>Berks Dental Assistants: Events</title>
    <meta name="description" content="Berks Dental Assistants' Events Page.">
{% endblock %}
{% block links %}
    {% load static %}
    <link href="{% static "/home/home.css" %}" type="text/css" rel="stylesheet">
    <link href="{% static "/events/events.css" %}" type="text/css" rel="stylesheet">
    <script src="{% static "/events/events.js" %}" type="text/javascript"></script>
{% endblock %}
{% block header %}
    <a aria-label="Last Month" href="{{ previous_link }}"><i class="h3 fas fa-arrow-alt-circle-left"></i></a>
    <div>
        <h1>{{ month_name }}</h1>
        <h2>{{ year }}</h2>
        <a href="{% url "main:events" %}">Today<br/></a>
    </div>
    <a aria-label="Next Month" href="{{ next_link }}"><i class="h3 fas fa-arrow-alt-circle-right"></i></a>
{% endblock %}
{% block content %}
    {% load eventTags %}
    <div class="calendar">
    {% for day in weekdays %}
        <div class="calendar-tile calendar-weekday"><p class="tile-content">{{ day }}</p></div>
    {% endfor %}
        {% for week in weeks %}
            {% for day in week %}
                {% makeDateObj as date %}
                {% getEventsOnDate as eventsOnThisDate %}
                <div class="calendar-tile {% if eventsOnThisDate|length > 0 %}calendar-event{% endif %} {% if date == today %}calendar-today focused-tile{% endif %} {% if day == 0 %}out-of-month{% endif %}">
                    {% if day != 0 %}
                        <p class="tile-content">{{ day }}</p>
                    {% endif %}
                    <p class="dateText">{{ date|date:"m/d/y" }}</p>
                    {% for event in eventsOnThisDate %}
                        <p class="eventJSON">{{ event.as_json_script|safe }}</p>
                    {% endfor %}
                </div>
            {% endfor %}
        {% endfor %}
    </div>
    <div style="display: flex;justify-content: center;margin:15px;"><a href="{% url "main:events" %}?view=list">(View as list)</a></div>
    <div class="event-cards-calendar">
        <div class="front-event-card first">
            <h2 id="event-list-title">Events on Day</h2>
        </div>
    </div>
{% endblock %}